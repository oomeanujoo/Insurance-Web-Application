import { __decorate } from "tslib";
import { Component, Input } from '@angular/core';
import { NgbToastService } from '../provider/ngb-toast.service';
let NgbToastComponent = class NgbToastComponent {
    constructor(ngbToastService) {
        this.ngbToastService = ngbToastService;
        this.isHidden = false;
    }
    ngOnInit() {
        let time;
        if (this.toast.timeInSeconds) {
            time = this.toast.timeInSeconds * 1000;
        }
        else if (!this.toast.dismissible) {
            time = 3000;
        }
        if (time) {
            setTimeout(() => {
                this.isHidden = true;
                if (this.toast.onDismiss)
                    this.toast.onDismiss();
                setTimeout(() => { this.ngbToastService.remove(this.toast); }, 500);
            }, time);
        }
    }
    dismiss() {
        this.isHidden = true;
        if (this.toast.onDismiss)
            this.toast.onDismiss();
        setTimeout(() => { this.ngbToastService.remove(this.toast); }, 500);
    }
};
NgbToastComponent.ctorParameters = () => [
    { type: NgbToastService }
];
__decorate([
    Input()
], NgbToastComponent.prototype, "toast", void 0);
NgbToastComponent = __decorate([
    Component({
        selector: 'ngb-toast-component',
        template: "<div class=\"ngb-toast-container\" class=\"{{toast.toastType}}\" [ngClass]=\"{ 'dismissible' : toast.dismissible, 'hideToast': isHidden }\">\r\n    {{toast.text}}\r\n    <button type=\"button\" *ngIf=\"toast.dismissible\" (click)=\"dismiss()\" class=\"closebtn\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">x</span>\r\n    </button>\r\n</div>",
        styles: [".ngb-toast-container{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem;width:40vw;visibility:visible;opacity:1;transition-delay:0s}.hideToast{visibility:hidden;opacity:0;transition:visibility linear .5s,opacity .5s linear}.tSuccess{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.tInfo{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.tWarning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.tDanger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.tPrimary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.tSecondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.tLight{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.tDark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.dismissible{padding-right:4rem}.closebtn{position:absolute;top:0;right:0;padding:.75rem 1.25rem;float:right;font-size:1.5em;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}[type=button]:not(:disabled),button:not(:disabled){cursor:pointer;display:inline-block;text-align:center;align-items:flex-start}button.closebtn{background-color:transparent;border:0;-webkit-appearance:none}button:focus{border:none!important}"]
    })
], NgbToastComponent);
export { NgbToastComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmdiLXRvYXN0LWNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nYi10b2FzdC8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnQvbmdiLXRvYXN0LWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFFekQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBT2hFLElBQWEsaUJBQWlCLEdBQTlCLE1BQWEsaUJBQWlCO0lBTzVCLFlBQW9CLGVBQWdDO1FBQWhDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtRQUZwRCxhQUFRLEdBQVksS0FBSyxDQUFDO0lBRzFCLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxJQUFZLENBQUM7UUFDakIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRTtZQUM1QixJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1NBQ3hDO2FBQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFO1lBQ2xDLElBQUksR0FBRyxJQUFJLENBQUM7U0FDYjtRQUNELElBQUksSUFBSSxFQUFFO1lBQ1IsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQkFDZCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDckIsSUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVM7b0JBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDaEQsVUFBVSxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN0RSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDVjtJQUNILENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVM7WUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2hELFVBQVUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDdEUsQ0FBQztDQUNGLENBQUE7O1lBeEJzQyxlQUFlOztBQUpwRDtJQURDLEtBQUssRUFBRTtnREFDUTtBQUhMLGlCQUFpQjtJQUw3QixTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUscUJBQXFCO1FBQy9CLGtYQUF5Qzs7S0FFMUMsQ0FBQztHQUNXLGlCQUFpQixDQStCN0I7U0EvQlksaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ2JUb2FzdCB9IGZyb20gJy4uL2ludGVyZmFjZS9uZ2ItdG9hc3QnO1xuaW1wb3J0IHsgTmdiVG9hc3RTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXIvbmdiLXRvYXN0LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ2ItdG9hc3QtY29tcG9uZW50JyxcbiAgdGVtcGxhdGVVcmw6ICcuL25nYi10b2FzdC1jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL25nYi10b2FzdC1jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIE5nYlRvYXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBASW5wdXQoKVxuICB0b2FzdDogTmdiVG9hc3Q7XG5cbiAgaXNIaWRkZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nYlRvYXN0U2VydmljZTogTmdiVG9hc3RTZXJ2aWNlKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBsZXQgdGltZTogbnVtYmVyO1xuICAgIGlmICh0aGlzLnRvYXN0LnRpbWVJblNlY29uZHMpIHtcbiAgICAgIHRpbWUgPSB0aGlzLnRvYXN0LnRpbWVJblNlY29uZHMgKiAxMDAwO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMudG9hc3QuZGlzbWlzc2libGUpIHtcbiAgICAgIHRpbWUgPSAzMDAwO1xuICAgIH1cbiAgICBpZiAodGltZSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNIaWRkZW4gPSB0cnVlO1xuICAgICAgICBpZih0aGlzLnRvYXN0Lm9uRGlzbWlzcykgdGhpcy50b2FzdC5vbkRpc21pc3MoKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMubmdiVG9hc3RTZXJ2aWNlLnJlbW92ZSh0aGlzLnRvYXN0KTsgfSwgNTAwKTtcbiAgICAgIH0sIHRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGRpc21pc3MoKTogdm9pZCB7XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgaWYodGhpcy50b2FzdC5vbkRpc21pc3MpIHRoaXMudG9hc3Qub25EaXNtaXNzKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMubmdiVG9hc3RTZXJ2aWNlLnJlbW92ZSh0aGlzLnRvYXN0KTsgfSwgNTAwKTtcbiAgfVxufVxuIl19