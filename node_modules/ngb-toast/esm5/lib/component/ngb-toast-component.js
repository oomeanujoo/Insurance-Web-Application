import { __decorate } from "tslib";
import { Component, Input } from '@angular/core';
import { NgbToastService } from '../provider/ngb-toast.service';
var NgbToastComponent = /** @class */ (function () {
    function NgbToastComponent(ngbToastService) {
        this.ngbToastService = ngbToastService;
        this.isHidden = false;
    }
    NgbToastComponent.prototype.ngOnInit = function () {
        var _this = this;
        var time;
        if (this.toast.timeInSeconds) {
            time = this.toast.timeInSeconds * 1000;
        }
        else if (!this.toast.dismissible) {
            time = 3000;
        }
        if (time) {
            setTimeout(function () {
                _this.isHidden = true;
                if (_this.toast.onDismiss)
                    _this.toast.onDismiss();
                setTimeout(function () { _this.ngbToastService.remove(_this.toast); }, 500);
            }, time);
        }
    };
    NgbToastComponent.prototype.dismiss = function () {
        var _this = this;
        this.isHidden = true;
        if (this.toast.onDismiss)
            this.toast.onDismiss();
        setTimeout(function () { _this.ngbToastService.remove(_this.toast); }, 500);
    };
    NgbToastComponent.ctorParameters = function () { return [
        { type: NgbToastService }
    ]; };
    __decorate([
        Input()
    ], NgbToastComponent.prototype, "toast", void 0);
    NgbToastComponent = __decorate([
        Component({
            selector: 'ngb-toast-component',
            template: "<div class=\"ngb-toast-container\" class=\"{{toast.toastType}}\" [ngClass]=\"{ 'dismissible' : toast.dismissible, 'hideToast': isHidden }\">\r\n    {{toast.text}}\r\n    <button type=\"button\" *ngIf=\"toast.dismissible\" (click)=\"dismiss()\" class=\"closebtn\" aria-label=\"Close\">\r\n        <span aria-hidden=\"true\">x</span>\r\n    </button>\r\n</div>",
            styles: [".ngb-toast-container{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem;width:40vw;visibility:visible;opacity:1;transition-delay:0s}.hideToast{visibility:hidden;opacity:0;transition:visibility linear .5s,opacity .5s linear}.tSuccess{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.tInfo{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.tWarning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.tDanger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.tPrimary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.tSecondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.tLight{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.tDark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.dismissible{padding-right:4rem}.closebtn{position:absolute;top:0;right:0;padding:.75rem 1.25rem;float:right;font-size:1.5em;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}[type=button]:not(:disabled),button:not(:disabled){cursor:pointer;display:inline-block;text-align:center;align-items:flex-start}button.closebtn{background-color:transparent;border:0;-webkit-appearance:none}button:focus{border:none!important}"]
        })
    ], NgbToastComponent);
    return NgbToastComponent;
}());
export { NgbToastComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmdiLXRvYXN0LWNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nYi10b2FzdC8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnQvbmdiLXRvYXN0LWNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFFekQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBT2hFO0lBT0UsMkJBQW9CLGVBQWdDO1FBQWhDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtRQUZwRCxhQUFRLEdBQVksS0FBSyxDQUFDO0lBRzFCLENBQUM7SUFFRCxvQ0FBUSxHQUFSO1FBQUEsaUJBY0M7UUFiQyxJQUFJLElBQVksQ0FBQztRQUNqQixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFO1lBQzVCLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7U0FDeEM7YUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUU7WUFDbEMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDUixVQUFVLENBQUM7Z0JBQ1QsS0FBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3JCLElBQUcsS0FBSSxDQUFDLEtBQUssQ0FBQyxTQUFTO29CQUFFLEtBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ2hELFVBQVUsQ0FBQyxjQUFRLEtBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN0RSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDVjtJQUNILENBQUM7SUFFRCxtQ0FBTyxHQUFQO1FBQUEsaUJBSUM7UUFIQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUztZQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDaEQsVUFBVSxDQUFDLGNBQVEsS0FBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7O2dCQXZCb0MsZUFBZTs7SUFKcEQ7UUFEQyxLQUFLLEVBQUU7b0RBQ1E7SUFITCxpQkFBaUI7UUFMN0IsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLHFCQUFxQjtZQUMvQixrWEFBeUM7O1NBRTFDLENBQUM7T0FDVyxpQkFBaUIsQ0ErQjdCO0lBQUQsd0JBQUM7Q0FBQSxBQS9CRCxJQStCQztTQS9CWSxpQkFBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nYlRvYXN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlL25nYi10b2FzdCc7XG5pbXBvcnQgeyBOZ2JUb2FzdFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlci9uZ2ItdG9hc3Quc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nYi10b2FzdC1jb21wb25lbnQnLFxuICB0ZW1wbGF0ZVVybDogJy4vbmdiLXRvYXN0LWNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbmdiLXRvYXN0LWNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTmdiVG9hc3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpXG4gIHRvYXN0OiBOZ2JUb2FzdDtcblxuICBpc0hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmdiVG9hc3RTZXJ2aWNlOiBOZ2JUb2FzdFNlcnZpY2UpIHtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIGxldCB0aW1lOiBudW1iZXI7XG4gICAgaWYgKHRoaXMudG9hc3QudGltZUluU2Vjb25kcykge1xuICAgICAgdGltZSA9IHRoaXMudG9hc3QudGltZUluU2Vjb25kcyAqIDEwMDA7XG4gICAgfSBlbHNlIGlmICghdGhpcy50b2FzdC5kaXNtaXNzaWJsZSkge1xuICAgICAgdGltZSA9IDMwMDA7XG4gICAgfVxuICAgIGlmICh0aW1lKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgICAgIGlmKHRoaXMudG9hc3Qub25EaXNtaXNzKSB0aGlzLnRvYXN0Lm9uRGlzbWlzcygpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5uZ2JUb2FzdFNlcnZpY2UucmVtb3ZlKHRoaXMudG9hc3QpOyB9LCA1MDApO1xuICAgICAgfSwgdGltZSk7XG4gICAgfVxuICB9XG5cbiAgZGlzbWlzcygpOiB2b2lkIHtcbiAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICBpZih0aGlzLnRvYXN0Lm9uRGlzbWlzcykgdGhpcy50b2FzdC5vbkRpc21pc3MoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5uZ2JUb2FzdFNlcnZpY2UucmVtb3ZlKHRoaXMudG9hc3QpOyB9LCA1MDApO1xuICB9XG59XG4iXX0=